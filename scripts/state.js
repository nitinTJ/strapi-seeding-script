const data = [
  {
    id: 1,
    attributes: {
      name: "ANDAMAN & NICOBAR ISLANDS",
      abbreviation: null,
      slug: "andaman-nicobar-islands",
      stateid: "1",
      createdAt: "2023-07-22T18:48:48.254Z",
      updatedAt: "2023-07-22T18:48:48.254Z",
      publishedAt: "2023-07-22T18:48:48.245Z",
    },
  },
  {
    id: 2,
    attributes: {
      name: "ANDHRA PRADESH",
      abbreviation: null,
      slug: "andhra-pradesh",
      stateid: "2",
      createdAt: "2023-07-22T18:48:48.393Z",
      updatedAt: "2023-07-22T18:48:48.393Z",
      publishedAt: "2023-07-22T18:48:48.389Z",
    },
  },
  {
    id: 3,
    attributes: {
      name: "ARUNACHAL PRADESH",
      abbreviation: null,
      slug: "arunachal-pradesh",
      stateid: "3",
      createdAt: "2023-07-22T18:48:48.465Z",
      updatedAt: "2023-07-22T18:48:48.465Z",
      publishedAt: "2023-07-22T18:48:48.459Z",
    },
  },
  {
    id: 4,
    attributes: {
      name: "ASSAM",
      abbreviation: null,
      slug: "assam",
      stateid: "4",
      createdAt: "2023-07-22T18:48:48.542Z",
      updatedAt: "2023-07-22T18:48:48.542Z",
      publishedAt: "2023-07-22T18:48:48.537Z",
    },
  },
  {
    id: 5,
    attributes: {
      name: "BIHAR",
      abbreviation: null,
      slug: "bihar",
      stateid: "5",
      createdAt: "2023-07-22T18:48:48.614Z",
      updatedAt: "2023-07-22T18:48:48.614Z",
      publishedAt: "2023-07-22T18:48:48.610Z",
    },
  },
  {
    id: 6,
    attributes: {
      name: "CHANDIGARH",
      abbreviation: null,
      slug: "chandigarh",
      stateid: "6",
      createdAt: "2023-07-22T18:48:48.675Z",
      updatedAt: "2023-07-22T18:48:48.675Z",
      publishedAt: "2023-07-22T18:48:48.671Z",
    },
  },
  {
    id: 7,
    attributes: {
      name: "CHATTISGARH",
      abbreviation: null,
      slug: "chattisgarh",
      stateid: "7",
      createdAt: "2023-07-22T18:48:48.738Z",
      updatedAt: "2023-07-22T18:48:48.738Z",
      publishedAt: "2023-07-22T18:48:48.733Z",
    },
  },
  {
    id: 8,
    attributes: {
      name: "DADRA & NAGAR HAVELI",
      abbreviation: null,
      slug: "dadra-nagar-haveli",
      stateid: "8",
      createdAt: "2023-07-22T18:48:48.800Z",
      updatedAt: "2023-07-22T18:48:48.800Z",
      publishedAt: "2023-07-22T18:48:48.797Z",
    },
  },
  {
    id: 9,
    attributes: {
      name: "DAMAN & DIU",
      abbreviation: null,
      slug: "daman-diu",
      stateid: "9",
      createdAt: "2023-07-22T18:48:48.873Z",
      updatedAt: "2023-07-22T18:48:48.873Z",
      publishedAt: "2023-07-22T18:48:48.870Z",
    },
  },
  {
    id: 10,
    attributes: {
      name: "DELHI",
      abbreviation: null,
      slug: "delhi",
      stateid: "10",
      createdAt: "2023-07-22T18:48:48.953Z",
      updatedAt: "2023-07-22T18:48:48.953Z",
      publishedAt: "2023-07-22T18:48:48.948Z",
    },
  },
  {
    id: 11,
    attributes: {
      name: "GOA",
      abbreviation: null,
      slug: "goa",
      stateid: "11",
      createdAt: "2023-07-22T18:48:49.018Z",
      updatedAt: "2023-07-22T18:48:49.018Z",
      publishedAt: "2023-07-22T18:48:49.012Z",
    },
  },
  {
    id: 12,
    attributes: {
      name: "GUJARAT",
      abbreviation: null,
      slug: "gujarat",
      stateid: "12",
      createdAt: "2023-07-22T18:48:49.177Z",
      updatedAt: "2023-07-22T18:48:49.177Z",
      publishedAt: "2023-07-22T18:48:49.167Z",
    },
  },
  {
    id: 13,
    attributes: {
      name: "HARYANA",
      abbreviation: null,
      slug: "haryana",
      stateid: "13",
      createdAt: "2023-07-22T18:48:49.404Z",
      updatedAt: "2023-07-22T18:48:49.404Z",
      publishedAt: "2023-07-22T18:48:49.400Z",
    },
  },
  {
    id: 14,
    attributes: {
      name: "HIMACHAL PRADESH",
      abbreviation: null,
      slug: "himachal-pradesh",
      stateid: "14",
      createdAt: "2023-07-22T18:48:49.535Z",
      updatedAt: "2023-07-22T18:48:49.535Z",
      publishedAt: "2023-07-22T18:48:49.532Z",
    },
  },
  {
    id: 15,
    attributes: {
      name: "JAMMU & KASHMIR",
      abbreviation: null,
      slug: "jammu-kashmir",
      stateid: "15",
      createdAt: "2023-07-22T18:48:49.672Z",
      updatedAt: "2023-07-22T18:48:49.672Z",
      publishedAt: "2023-07-22T18:48:49.668Z",
    },
  },
  {
    id: 16,
    attributes: {
      name: "JHARKHAND",
      abbreviation: null,
      slug: "jharkhand",
      stateid: "16",
      createdAt: "2023-07-22T18:48:49.833Z",
      updatedAt: "2023-07-22T18:48:49.833Z",
      publishedAt: "2023-07-22T18:48:49.829Z",
    },
  },
  {
    id: 17,
    attributes: {
      name: "KARNATAKA",
      abbreviation: null,
      slug: "karnataka",
      stateid: "17",
      createdAt: "2023-07-22T18:48:49.902Z",
      updatedAt: "2023-07-22T18:48:49.902Z",
      publishedAt: "2023-07-22T18:48:49.898Z",
    },
  },
  {
    id: 18,
    attributes: {
      name: "KERALA",
      abbreviation: null,
      slug: "kerala",
      stateid: "18",
      createdAt: "2023-07-22T18:48:49.967Z",
      updatedAt: "2023-07-22T18:48:49.967Z",
      publishedAt: "2023-07-22T18:48:49.961Z",
    },
  },
  {
    id: 19,
    attributes: {
      name: "LAKSHADWEEP",
      abbreviation: null,
      slug: "lakshadweep",
      stateid: "19",
      createdAt: "2023-07-22T18:48:50.033Z",
      updatedAt: "2023-07-22T18:48:50.033Z",
      publishedAt: "2023-07-22T18:48:50.024Z",
    },
  },
  {
    id: 20,
    attributes: {
      name: "MADHYA PRADESH",
      abbreviation: null,
      slug: "madhya-pradesh",
      stateid: "20",
      createdAt: "2023-07-22T18:48:50.109Z",
      updatedAt: "2023-07-22T18:48:50.109Z",
      publishedAt: "2023-07-22T18:48:50.105Z",
    },
  },
  {
    id: 21,
    attributes: {
      name: "MAHARASHTRA",
      abbreviation: null,
      slug: "maharashtra",
      stateid: "21",
      createdAt: "2023-07-22T18:48:50.250Z",
      updatedAt: "2023-07-22T18:48:50.250Z",
      publishedAt: "2023-07-22T18:48:50.245Z",
    },
  },
  {
    id: 22,
    attributes: {
      name: "MANIPUR",
      abbreviation: null,
      slug: "manipur",
      stateid: "22",
      createdAt: "2023-07-22T18:48:50.359Z",
      updatedAt: "2023-07-22T18:48:50.359Z",
      publishedAt: "2023-07-22T18:48:50.356Z",
    },
  },
  {
    id: 23,
    attributes: {
      name: "MEGHALAYA",
      abbreviation: null,
      slug: "meghalaya",
      stateid: "23",
      createdAt: "2023-07-22T18:48:50.428Z",
      updatedAt: "2023-07-22T18:48:50.428Z",
      publishedAt: "2023-07-22T18:48:50.425Z",
    },
  },
  {
    id: 24,
    attributes: {
      name: "MIZORAM",
      abbreviation: null,
      slug: "mizoram",
      stateid: "24",
      createdAt: "2023-07-22T18:48:50.496Z",
      updatedAt: "2023-07-22T18:48:50.496Z",
      publishedAt: "2023-07-22T18:48:50.492Z",
    },
  },
  {
    id: 25,
    attributes: {
      name: "NAGALAND",
      abbreviation: null,
      slug: "nagaland",
      stateid: "25",
      createdAt: "2023-07-22T18:48:50.565Z",
      updatedAt: "2023-07-22T18:48:50.565Z",
      publishedAt: "2023-07-22T18:48:50.557Z",
    },
  },
  {
    id: 26,
    attributes: {
      name: "ODISHA",
      abbreviation: null,
      slug: "odisha",
      stateid: "26",
      createdAt: "2023-07-22T18:48:50.642Z",
      updatedAt: "2023-07-22T18:48:50.642Z",
      publishedAt: "2023-07-22T18:48:50.637Z",
    },
  },
  {
    id: 27,
    attributes: {
      name: "PONDICHERRY",
      abbreviation: null,
      slug: "pondicherry",
      stateid: "27",
      createdAt: "2023-07-22T18:48:50.734Z",
      updatedAt: "2023-07-22T18:48:50.734Z",
      publishedAt: "2023-07-22T18:48:50.728Z",
    },
  },
  {
    id: 28,
    attributes: {
      name: "PUNJAB",
      abbreviation: null,
      slug: "punjab",
      stateid: "28",
      createdAt: "2023-07-22T18:48:50.798Z",
      updatedAt: "2023-07-22T18:48:50.798Z",
      publishedAt: "2023-07-22T18:48:50.792Z",
    },
  },
  {
    id: 29,
    attributes: {
      name: "RAJASTHAN",
      abbreviation: null,
      slug: "rajasthan",
      stateid: "29",
      createdAt: "2023-07-22T18:48:50.860Z",
      updatedAt: "2023-07-22T18:48:50.860Z",
      publishedAt: "2023-07-22T18:48:50.856Z",
    },
  },
  {
    id: 30,
    attributes: {
      name: "SIKKIM",
      abbreviation: null,
      slug: "sikkim",
      stateid: "30",
      createdAt: "2023-07-22T18:48:50.928Z",
      updatedAt: "2023-07-22T18:48:50.928Z",
      publishedAt: "2023-07-22T18:48:50.925Z",
    },
  },
  {
    id: 31,
    attributes: {
      name: "TAMIL NADU",
      abbreviation: null,
      slug: "tamil-nadu",
      stateid: "31",
      createdAt: "2023-07-22T18:48:50.982Z",
      updatedAt: "2023-07-22T18:48:50.982Z",
      publishedAt: "2023-07-22T18:48:50.978Z",
    },
  },
  {
    id: 32,
    attributes: {
      name: "TELANGANA",
      abbreviation: null,
      slug: "telangana",
      stateid: "32",
      createdAt: "2023-07-22T18:48:51.039Z",
      updatedAt: "2023-07-22T18:48:51.039Z",
      publishedAt: "2023-07-22T18:48:51.036Z",
    },
  },
  {
    id: 33,
    attributes: {
      name: "TRIPURA",
      abbreviation: null,
      slug: "tripura",
      stateid: "33",
      createdAt: "2023-07-22T18:48:51.101Z",
      updatedAt: "2023-07-22T18:48:51.101Z",
      publishedAt: "2023-07-22T18:48:51.098Z",
    },
  },
  {
    id: 34,
    attributes: {
      name: "UTTAR PRADESH",
      abbreviation: null,
      slug: "uttar-pradesh",
      stateid: "34",
      createdAt: "2023-07-22T18:48:51.176Z",
      updatedAt: "2023-07-22T18:48:51.176Z",
      publishedAt: "2023-07-22T18:48:51.171Z",
    },
  },
  {
    id: 35,
    attributes: {
      name: "UTTARAKHAND",
      abbreviation: null,
      slug: "uttarakhand",
      stateid: "35",
      createdAt: "2023-07-22T18:48:51.244Z",
      updatedAt: "2023-07-22T18:48:51.244Z",
      publishedAt: "2023-07-22T18:48:51.238Z",
    },
  },
  {
    id: 36,
    attributes: {
      name: "WEST BENGAL",
      abbreviation: null,
      slug: "west-bengal",
      stateid: "36",
      createdAt: "2023-07-22T18:48:51.319Z",
      updatedAt: "2023-07-22T18:48:51.319Z",
      publishedAt: "2023-07-22T18:48:51.316Z",
    },
  },
];

const bike = [
  {
    id: "1",
    state_id: "1",
    rto_charges: "12",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "2",
    state_id: "2",
    rto_charges: "12",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "3",
    state_id: "3",
    rto_charges: "8",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "4",
    state_id: "4",
    rto_charges: "9",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "5",
    state_id: "5",
    rto_charges: "9",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "6",
    state_id: "6",
    rto_charges: "3",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "7",
    state_id: "7",
    rto_charges: "8",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "8",
    state_id: "9",
    rto_charges: "6",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "9",
    state_id: "10",
    rto_charges: "8",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "10",
    state_id: "11",
    rto_charges: "9",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "11",
    state_id: "12",
    rto_charges: "6",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "12",
    state_id: "13",
    rto_charges: "5",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "13",
    state_id: "14",
    rto_charges: "7",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "14",
    state_id: "15",
    rto_charges: "9",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "15",
    state_id: "16",
    rto_charges: "7",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "16",
    state_id: "17",
    rto_charges: "14",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "17",
    state_id: "18",
    rto_charges: "10",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "18",
    state_id: "19",
    rto_charges: "10",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "19",
    state_id: "20",
    rto_charges: "7",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "20",
    state_id: "21",
    rto_charges: "10",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "21",
    state_id: "22",
    rto_charges: "8",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "22",
    state_id: "23",
    rto_charges: "8",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "23",
    state_id: "24",
    rto_charges: "8",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "24",
    state_id: "25",
    rto_charges: "7",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "25",
    state_id: "26",
    rto_charges: "6",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "26",
    state_id: "27",
    rto_charges: "1",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "27",
    state_id: "28",
    rto_charges: "7",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "28",
    state_id: "29",
    rto_charges: "9",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "29",
    state_id: "30",
    rto_charges: "9",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "30",
    state_id: "31",
    rto_charges: "8",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "31",
    state_id: "32",
    rto_charges: "12",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "32",
    state_id: "33",
    rto_charges: "7",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "33",
    state_id: "34",
    rto_charges: "10",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "34",
    state_id: "35",
    rto_charges: "8",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "35",
    state_id: "36",
    rto_charges: "9",
    status: "1",
    created_at: "2023-05-24 06:45:35",
    updated_at: null,
  },
  {
    id: "36",
    state_id: "8",
    rto_charges: "6",
    status: "1",
    created_at: "2023-05-26 04:36:31",
    updated_at: null,
  },
];

function fetchData(url, method, requestData) {
  const options = {
    method: method,
    headers: {
      "Content-Type": "application/json",
    },
  };

  if (requestData) {
    options.body = requestData;
  }

  return fetch(url, options)
    .then((response) => {
      if (response.ok) {
        return response.json();
      } else {
        throw new Error(
          `Error: ${response.status} - ${response.statusText}, ${url}`
        );
      }
    })
    .catch((error) => {
      console.error(error);
    });
}

// const result = brandjson.map((item) => {
//   b.id = item.id;
//   b.slug = item.slug;
//   b.name = item.name;
//   b.brand_id = "";

//   return { ...b };
// });

const promisses = data.map((item) => {
  const findItem = bike.filter((i) => i.id == item.attributes.stateid);
  console.log(findItem);
  if (findItem.length) {
    const body = {
      data: {
        rto_charges: findItem[0].rto_charges,
        //   ...item,
        //   Faq: [...item.faq],
      },
    };

    //   console.log(
    //     JSON.stringify(body, null, 2),
    //     `https://p5.tractorjunction.in/api/brand-pages/${item.id}`
    //   );
    return fetchData(
      `https://p5.tractorjunction.in/api/states/${item.id}`,
      "PUT",
      JSON.stringify(body)
    );
  }
});

// console.log(promisses.length);

function updateDate() {
  Promise.all(promisses)
    .then((data) => {
      console.log(data);
    })
    .catch((error) => {
      // Handle any errors that occurred during the API calls
      console.error(error);
    });
}

updateDate();
